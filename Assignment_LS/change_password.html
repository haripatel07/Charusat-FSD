<!DOCTYPE html>
<html>
<head>
  <title>Change Password</title>
</head>
<body>
  <h2>Change Password</h2>
  <input id="oldpass" type="password" placeholder="Old Password"><br>
  <input id="newpass" type="password" placeholder="New Password"><br>
  <input id="confirmpass" type="password" placeholder="Confirm Password"><br>
  <button onclick="changePassword()">Change</button>

  <script>
    function changePassword() {
      const oldPass = document.getElementById('oldpass').value;
      const newPass = document.getElementById('newpass').value;
      const confirmPass = document.getElementById('confirmpass').value;

      let user = JSON.parse(localStorage.getItem('user'));

      if (!user || oldPass !== user.password) {
        alert("Incorrect old password.");
        return;
      }

      if (newPass !== confirmPass) {
        alert("New passwords do not match.");
        return;
      }

      user.password = newPass;
      localStorage.setItem('user', JSON.stringify(user));
      alert("Password updated!");
      window.location.href = "dashboard.html";
    }
  </script>
</body>
</html>
